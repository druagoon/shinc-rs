<!-- markdownlint-disable MD024 MD033 MD036 -->
<h1>shinc</h1>

Generate a bash cli script using [argc][argc].

---

**Table of Contents**

- [Features](#features)
- [Prerequisites](#prerequisites)
- [Installation](#installation)
  - [From Homebrew](#from-homebrew)
  - [From binaries](#from-binaries)
  - [From source](#from-source)
- [Configuration](#configuration)
  - [Built-in Default Configs](#built-in-default-configs)
- [Command List](#command-list)
- [Homebrew Formula](#homebrew-formula)
- [Usage](#usage)
- [Development](#development)
  - [Release new version](#release-new-version)

## Features

- Shell script formatting with `shfmt`
- Man page generation
- Shell completions (bash, elvish, fish, powershell, zsh)
- Binary distribution
- Release management with version control

## Prerequisites

- [git][git]
- [shfmt][shfmt]

## Installation

### From Homebrew

You can install `shinc` using Homebrew:

```sh
brew install druagoon/brew/shinc
```

### From binaries

Download precompiled binaries for Linux/Windows/MacOS from the [releases page](https://github.com/druagoon/shinc-rs/releases).

For Linux users, statically-linked binaries (with `musl`) are also available.

### From source

> Minimum supported Rust version (MSRV): 1.79.0

Install from repository:

```shell
cargo install --locked --all-features --git https://github.com/druagoon/shinc-rs.git
```

## Configuration

Using following command to generate the config file from template.

```shell
shinc config generate
```

or

Create `.config/shinc/config.toml` in your project:

```toml
[project]
name = "xxx"
version = "1.0.0"
```

### Built-in Default Configs

- [default.toml](./templates/config/default.toml)

## Command List

`shinc` provides the following commands:

```shell
Commands:
  build        Generate and build shell scripts
  clean        Remove artifacts generated by shinc
  config       Manage configurations
  completions  Generate shell completion scripts
  dist         Creates a distribution archive
  homebrew     Homebrew-related commands
  man          Generate man pages
  release      Create a new release
  help         Print this message or the help of the given subcommand(s)

Options:
  --generate-shell-completions <SHELL>  [possible values: bash, elvish, fish, powershell, zsh]
```

## Homebrew Formula

The following command will generate a Homebrew formula template for project.

```shell
shinc homebrew formula
```

## Usage

To generate a bash CLI script, use the `build` command:

```bash
shinc build
```

## Development

### Release new version

```shell
./scripts/release.sh 1.0.0
```

[argc]: https://github.com/sigoden/argc
[git]: https://git-scm.com
[shfmt]: https://github.com/mvdan/sh
